<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>{% block title %}Blunder Tutor{% endblock %}</title>

  <!-- Base CSS -->
  <link rel="stylesheet" href="/static/css/base.css">

  <!-- Theme loader - applies cached colors before page renders -->
  <script src="/static/js/theme-loader.js"></script>

  <!-- HTMX for reactive components -->
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>

  <!-- Page-specific CSS -->
  {% block extra_css %}{% endblock %}

  <!-- Page-specific head content -->
  {% block extra_head %}{% endblock %}
</head>
<body>
  {% block body %}
  <div class="container">
    {% block header %}
    <h1>{% block page_title %}Blunder Tutor{% endblock %}</h1>
    {% endblock %}

    {% block navigation %}{% endblock %}

    {% block content %}{% endblock %}
  </div>
  {% endblock %}

  <!-- Base JavaScript (jQuery for chessboard, if needed) -->
  {% block base_scripts %}{% endblock %}

  <!-- WebSocket client for real-time updates -->
  <script src="/static/js/websocket-client.js"></script>

  <!-- Theme sync - fetch from server and update cache -->
  <script src="/static/js/theme-sync.js"></script>

  <!-- Page-specific JavaScript -->
  {% block extra_scripts %}{% endblock %}
</body>
</html>
